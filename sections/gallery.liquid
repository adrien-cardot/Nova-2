{% if section.settings.section_center_heading -%}
	{%- assign heading_align = 'center' -%}
{%- else -%}
	{%- assign heading_align = 'left' -%}
{%- endif %}
<div class="section-wrapper section-wrapper--y-offset--padding color-scheme-{{ section.settings.section_color_scheme.id }} {% if section.settings.section_center_heading %}section-wrapper--center-align{% endif %}">
	{% if section.settings.section_heading != blank or section.settings.section_description != blank %}
		<div class="container section-wrapper__header">
			<div class="content content--align--{{ heading_align }}">
				{% if section.settings.section_heading != blank %}
					<div class="content__heading">
						{% capture heading_capture %}
							<h2 class="heading heading--size--{{ section.settings.section_heading_size }}">
								{{ section.settings.section_heading }}
							</h2>
						{% endcapture %}
						{% if section.settings.section_heading_animation %}
							<div
								class="scroll-animation scroll-animation--use--text-reveal scroll-animation--origin-align--{{ heading_align }} {% unless settings.appearance_animate_heading_on_mobile %}scroll-animation--only-desktop-animation{% endunless %}"
								style=""
							>
								{{ heading_capture }}
							</div>
						{% else -%}
							{{- heading_capture -}}
						{%- endif %}
					</div>
				{% endif -%}
				{%- if section.settings.section_description != blank %}
					<div class="content__text">
						<p class="text text--size--md">{{ section.settings.section_description }}</p>
					</div>
				{% endif %}
			</div>
		</div>
	{% endif %}
	<div class="container section-wrapper__body">
		{{ 'component-span-grid.css' | asset_url | stylesheet_tag }}
		<div class="span-grid span-grid--row-size--{{ section.settings.row_size }}" style="">
			{% for block in section.blocks -%}
				{%- if block.settings.button_label == blank -%}
					{%- assign banner_link = block.settings.link -%}
				{%- else -%}
					{%- assign banner_link = blank -%}
				{%- endif -%}
				{%- case block.type -%}
					{%- when 'text' %}
						<div
							class="span-grid__item"
							style="--span-grid-item-row: {{ block.settings.row }};--span-grid-item-col: {{ block.settings.col }};"
							{{ block.shopify_attributes }}
						>
							<div class="color-scheme-{{ block.settings.color_scheme.id }}">
								{% capture capture_banner_content %}
									<div class="content content--spacing--sm content--position-align--{{ block.settings.content_position }}">
										{% if block.settings.subheading_text != blank %}
											<div class="content__subheading">
												<p class="subheading">
													{{ block.settings.subheading_text }}
												</p>
											</div>
										{% endif -%}
										{%- if block.settings.heading_text != blank %}
											<div class="content__heading">
												<h2 class="heading heading--size--{{ block.settings.heading_size }}">
													{{ block.settings.heading_text }}
												</h2>
											</div>
										{% endif -%}
										{%- if block.settings.text_content != blank %}
											<div class="content__text">
												<p class="text text--size--md">{{ block.settings.text_content }}</p>
											</div>
										{% endif -%}
										{%- if block.settings.button_label != blank %}
											<div class="content__button">
												<a
													href="{{ block.settings.link }}"
													style=""
													class="button button--variant--{{ block.settings.button_variant }}"
												>
													{{ block.settings.button_label }}
												</a>
											</div>
										{% endif %}
									</div>
								{% endcapture %}

								{% capture capture_banner %}
									<div class="banner banner--size--full" style="--banner-overlay: 1;">
										<div class="banner__overlay"></div>
										{% if banner_link != blank -%}
											<a class="stretched-link" href="{{ banner_link }}" aria-label="{{ block.settings.heading_text }}">
											</a>
										{%- endif %}

										<div class="banner__content">
											<div
												class="placer placer--position--{{ block.settings.content_position }} placer--offset--{% if section.settings.gyro_effect %}large{% else %}medium{% endif %}"
												style=""
											>
												<div class="placer__target">
													{% if section.settings.gyro_effect %}
														<div class="mouse-tracker__caption">
															<div class="mouse-tracker__caption__content">
																{{ capture_banner_content }}
															</div>
														</div>
													{% else -%}
														{{- capture_banner_content -}}
													{%- endif %}
												</div>
											</div>
										</div>
									</div>
								{% endcapture %}

								{% if section.settings.gyro_effect -%}
									<x-mouse-tracker
										class="mouse-tracker mouse-tracker--outer mouse-tracker--full"
										style="--mouse-tracker-z: 20px;"
									>
										<div class="mouse-tracker__stage mouse-tracker__stage--outer">
											<div class="mouse-tracker__stage__inner">
												{{ capture_banner }}
											</div>

											<div class="mouse-tracker__shadow"></div>
										</div>
										<div class="mouse-tracker__border"></div>
									</x-mouse-tracker>
								{%- else -%}
									{{- capture_banner -}}
								{%- endif %}
							</div>
						</div>
					{% else -%}
						{%- assign block_video = blank -%}
						{%- assign block_image = blank -%}
						{%- if block.type == 'image' -%}
							{%- assign block_image = block.settings.banner_image -%}
						{%- elsif block.type == 'video' -%}
							{%- assign block_video = block.settings.banner_video -%}
						{%- endif -%}
						{%- if block.settings.button_label == blank -%}
							{%- assign banner_link = block.settings.link -%}
						{%- else -%}
							{%- assign banner_link = blank -%}
						{%- endif %}
						<div
							class="span-grid__item"
							style="--span-grid-item-row: {{ block.settings.row }};--span-grid-item-col: {{ block.settings.col }};"
							{{ block.shopify_attributes }}
						>
							<div class="color-scheme-{{ block.settings.color_scheme.id }}">
								{% capture capture_banner_content %}
									<div class="content content--spacing--sm content--position-align--{{ block.settings.content_position }}">
										{% if block.settings.subheading_text != blank %}
											<div class="content__subheading">
												<p class="subheading">
													{{ block.settings.subheading_text }}
												</p>
											</div>
										{% endif -%}
										{%- if block.settings.heading_text != blank %}
											<div class="content__heading">
												<h2 class="heading heading--size--{{ block.settings.heading_size }}">
													{{ block.settings.heading_text }}
												</h2>
											</div>
										{% endif -%}
										{%- if block.settings.text_content != blank %}
											<div class="content__text">
												<p class="text text--size--md">{{ block.settings.text_content }}</p>
											</div>
										{% endif -%}
										{%- if block.settings.button_label != blank %}
											<div class="content__button">
												<a
													href="{{ block.settings.link }}"
													style=""
													class="button button--variant--{{ block.settings.button_variant }}"
												>
													{{ block.settings.button_label }}
												</a>
											</div>
										{% endif %}
									</div>
								{% endcapture %}

								{% capture capture_banner %}
									<div
										class="banner banner--size--full banner--bg"
										style="--banner-overlay: {{ block.settings.banner_overlay | times: 0.01 }};--banner-focal: {{ block_image.presentation.focal_point }};"
									>
										<div class="banner__overlay"></div>
										{% if banner_link != blank -%}
											<a class="stretched-link" href="{{ banner_link }}" aria-label="{{ block.settings.heading_text }}">
											</a>
										{%- endif %}

										{% if block_video != blank -%}
											<x-bg-video class="bg-video">
												<video
													class="banner__video"
													loop
													muted
													preload="none"
													width="{{ block_video.sources.first.width }}"
													height="{{ block_video.sources.first.height }}"
													data-bg-video-element="video"
												>
													{% for source in block_video.sources %}
														<source src="{{ source.url }}" type="{{ source.mime_type }}">
													{% endfor %}
												</video>
											</x-bg-video>
											<script type="module" src="{{ 'component-bg-video.js' | asset_url }}"></script>
										{% endif %}
										{% if block_image != blank %}
											<picture class="banner__image">
												<source
													srcset="
														{% if block_image.width >= 375 %}{{ block_image | image_url: width: 375 }} 375w,{% endif %}
														{% if block_image.width >= 550 %}{{ block_image | image_url: width: 550 }} 550w,{% endif %}
														{% if block_image.width >= 750 %}{{ block_image | image_url: width: 750 }} 750w,{% endif %}
														{% if block_image.width >= 1100 %}{{ block_image | image_url: width: 1100 }} 1100w,{% endif %}
														{% if block_image.width >= 1500 %}{{ block_image | image_url: width: 1500 }} 1500w,{% endif %}
														{% if block_image.width >= 1780 %}{{ block_image | image_url: width: 1780 }} 1780w,{% endif %}
														{% if block_image.width >= 2000 %}{{ block_image | image_url: width: 2000 }} 2000w,{% endif %}
														{{ block_image | image_url }} {{ block_image.width }}w
													"
													sizes="(min-width: 992px) 800px, (max-width: 992px) 90vw"
												>

												<img
													src="{{ block_image | image_url }}"
													alt="{{ block_image.alt | escape }}"
													width="{{ block_image.width }}"
													height="{{ block_image.height }}"
													loading="lazy"
													data-img-loading
													onload="this.removeAttribute(&#34;data-img-loading&#34;)"
												>
											</picture>
										{%- endif %}

										{% if block_video == blank and block_image == blank %}
											{{
												forloop.index0
												| modulo: 6
												| plus: 1
												| prepend: '-'
												| prepend: 'collection'
												| placeholder_svg_tag: 'banner__placeholder'
											-}}
										{%- endif %}

										<div class="banner__content">
											<div
												class="placer placer--position--{{ block.settings.content_position }} placer--offset--{% if section.settings.gyro_effect %}large{% else %}medium{% endif %}"
												style=""
											>
												<div class="placer__target">
													{% if section.settings.gyro_effect %}
														<div class="mouse-tracker__caption">
															<div class="mouse-tracker__caption__content">
																{{ capture_banner_content }}
															</div>
														</div>
													{% else -%}
														{{- capture_banner_content -}}
													{%- endif %}
												</div>
											</div>
										</div>
									</div>
								{% endcapture %}

								{% if section.settings.gyro_effect -%}
									<x-mouse-tracker
										class="mouse-tracker mouse-tracker--outer mouse-tracker--full"
										style="--mouse-tracker-z: 20px;"
									>
										<div class="mouse-tracker__stage mouse-tracker__stage--outer">
											<div class="mouse-tracker__stage__inner">
												{{ capture_banner }}
											</div>

											<div class="mouse-tracker__shadow"></div>
										</div>
										<div class="mouse-tracker__border"></div>
									</x-mouse-tracker>
								{%- else -%}
									{{- capture_banner -}}
								{%- endif %}
							</div>
						</div>
				{% endcase -%}
			{%- endfor %}
		</div>
	</div>
</div>

{% schema %}
	{
		"name": "Gallery",
		"class": "gallery-section",
		"presets": [
			{
				"name": "Gallery",
				"blocks": [
					{
						"type": "image",
						"settings": {
							"row": "2",
							"col": "6"
						}
					},
					{
						"type": "image",
						"settings": {
							"row": "1",
							"col": "6"
						}
					},
					{
						"type": "image",
						"settings": {
							"row": "1",
							"col": "6"
						}
					}
				],
				"category": "Media"
			}
		],
		"disabled_on": {
			"templates": ["password"],
			"groups": ["header", "custom.overlay"]
		},
		"settings": [
			{
				"type": "text",
				"id": "section_heading",
				"label": "Heading",
				"default": "The Gallery"
			},
			{
				"type": "select",
				"id": "section_heading_size",
				"label": "Heading size",
				"options": [
					{
						"value": "h2",
						"label": "Small"
					},
					{
						"value": "h1",
						"label": "Medium"
					},
					{
						"value": "d3",
						"label": "Large"
					}
				],
				"default": "h1"
			},
			{
				"type": "checkbox",
				"id": "section_heading_animation",
				"label": "Use heading animation",
				"default": true
			},
			{
				"type": "checkbox",
				"id": "section_center_heading",
				"label": "Center heading",
				"default": true
			},
			{
				"type": "inline_richtext",
				"id": "section_description",
				"label": "Text"
			},
			{
				"type": "color_scheme",
				"id": "section_color_scheme",
				"label": "Color scheme"
			},
			{
				"type": "header",
				"content": "Media"
			},
			{
				"type": "checkbox",
				"id": "gyro_effect",
				"label": "Enable 3D effect on mouseover"
			},
			{
				"type": "select",
				"id": "row_size",
				"label": "Base height",
				"options": [
					{
						"value": "small",
						"label": "Small"
					},
					{
						"value": "medium",
						"label": "Medium"
					},
					{
						"value": "large",
						"label": "Large"
					}
				],
				"default": "medium"
			}
		],
		"blocks": [
			{
				"name": "Video",
				"type": "video",
				"settings": [
					{
						"type": "video",
						"id": "banner_video",
						"label": "Video"
					},
					{
						"type": "range",
						"id": "banner_overlay",
						"label": "Overlay",
						"min": 0,
						"max": 100,
						"step": 1,
						"default": 0,
						"unit": "%"
					},
					{
						"type": "header",
						"content": "Size"
					},
					{
						"type": "select",
						"id": "row",
						"label": "Height",
						"options": [
							{
								"value": "1",
								"label": "50%"
							},
							{
								"value": "2",
								"label": "100%"
							},
							{
								"value": "3",
								"label": "150%"
							}
						],
						"default": "2"
					},
					{
						"type": "select",
						"id": "col",
						"label": "Desktop width",
						"options": [
							{
								"value": "3",
								"label": "25%"
							},
							{
								"value": "4",
								"label": "33%"
							},
							{
								"value": "6",
								"label": "50%"
							},
							{
								"value": "8",
								"label": "77%"
							},
							{
								"value": "12",
								"label": "100%"
							}
						],
						"default": "3"
					},
					{
						"type": "header",
						"content": "Content"
					},
					{
						"type": "url",
						"id": "link",
						"label": "Link"
					},
					{
						"type": "select",
						"id": "content_position",
						"label": "Position",
						"options": [
							{
								"value": "top-left",
								"label": "Top left"
							},
							{
								"value": "top-center",
								"label": "Top center"
							},
							{
								"value": "top-right",
								"label": "Top right"
							},
							{
								"value": "middle-left",
								"label": "Middle left"
							},
							{
								"value": "middle-center",
								"label": "Middle center"
							},
							{
								"value": "middle-right",
								"label": "Middle right"
							},
							{
								"value": "bottom-left",
								"label": "Bottom left"
							},
							{
								"value": "bottom-center",
								"label": "Bottom center"
							},
							{
								"value": "bottom-right",
								"label": "Bottom right"
							}
						],
						"default": "middle-center"
					},
					{
						"type": "text",
						"id": "subheading_text",
						"label": "Subheading"
					},
					{
						"type": "text",
						"id": "heading_text",
						"label": "Heading",
						"default": "Gallery item"
					},
					{
						"type": "select",
						"id": "heading_size",
						"label": "Heading size",
						"default": "h4",
						"options": [
							{
								"value": "h5",
								"label": "Small"
							},
							{
								"value": "h4",
								"label": "Medium"
							},
							{
								"value": "h3",
								"label": "Large"
							}
						]
					},
					{
						"type": "inline_richtext",
						"id": "text_content",
						"label": "Text"
					},
					{
						"type": "text",
						"id": "button_label",
						"label": "Button label"
					},
					{
						"type": "select",
						"id": "button_variant",
						"label": "Button style",
						"options": [
							{
								"value": "fill",
								"label": "Solid"
							},
							{
								"value": "outline",
								"label": "Outline"
							},
							{
								"value": "link",
								"label": "Link"
							}
						],
						"default": "outline"
					},
					{
						"type": "color_scheme",
						"id": "color_scheme",
						"label": "Color scheme",
						"default": "invert"
					}
				]
			},
			{
				"name": "Image",
				"type": "image",
				"settings": [
					{
						"type": "image_picker",
						"id": "banner_image",
						"label": "Image"
					},
					{
						"type": "range",
						"id": "banner_overlay",
						"label": "Overlay",
						"min": 0,
						"max": 100,
						"step": 1,
						"default": 0,
						"unit": "%"
					},
					{
						"type": "header",
						"content": "Size"
					},
					{
						"type": "select",
						"id": "row",
						"label": "Height",
						"options": [
							{
								"value": "1",
								"label": "50%"
							},
							{
								"value": "2",
								"label": "100%"
							},
							{
								"value": "3",
								"label": "150%"
							}
						],
						"default": "2"
					},
					{
						"type": "select",
						"id": "col",
						"label": "Desktop width",
						"options": [
							{
								"value": "3",
								"label": "25%"
							},
							{
								"value": "4",
								"label": "33%"
							},
							{
								"value": "6",
								"label": "50%"
							},
							{
								"value": "8",
								"label": "77%"
							},
							{
								"value": "12",
								"label": "100%"
							}
						],
						"default": "3"
					},
					{
						"type": "header",
						"content": "Content"
					},
					{
						"type": "url",
						"id": "link",
						"label": "Link"
					},
					{
						"type": "select",
						"id": "content_position",
						"label": "Position",
						"options": [
							{
								"value": "top-left",
								"label": "Top left"
							},
							{
								"value": "top-center",
								"label": "Top center"
							},
							{
								"value": "top-right",
								"label": "Top right"
							},
							{
								"value": "middle-left",
								"label": "Middle left"
							},
							{
								"value": "middle-center",
								"label": "Middle center"
							},
							{
								"value": "middle-right",
								"label": "Middle right"
							},
							{
								"value": "bottom-left",
								"label": "Bottom left"
							},
							{
								"value": "bottom-center",
								"label": "Bottom center"
							},
							{
								"value": "bottom-right",
								"label": "Bottom right"
							}
						],
						"default": "middle-center"
					},
					{
						"type": "text",
						"id": "subheading_text",
						"label": "Subheading"
					},
					{
						"type": "text",
						"id": "heading_text",
						"label": "Heading",
						"default": "Gallery item"
					},
					{
						"type": "select",
						"id": "heading_size",
						"label": "Heading size",
						"default": "h4",
						"options": [
							{
								"value": "h5",
								"label": "Small"
							},
							{
								"value": "h4",
								"label": "Medium"
							},
							{
								"value": "h3",
								"label": "Large"
							}
						]
					},
					{
						"type": "inline_richtext",
						"id": "text_content",
						"label": "Text"
					},
					{
						"type": "text",
						"id": "button_label",
						"label": "Button label"
					},
					{
						"type": "select",
						"id": "button_variant",
						"label": "Button style",
						"options": [
							{
								"value": "fill",
								"label": "Solid"
							},
							{
								"value": "outline",
								"label": "Outline"
							},
							{
								"value": "link",
								"label": "Link"
							}
						],
						"default": "outline"
					},
					{
						"type": "color_scheme",
						"id": "color_scheme",
						"label": "Color scheme",
						"default": "invert"
					}
				]
			},
			{
				"name": "Text",
				"type": "text",
				"settings": [
					{
						"type": "header",
						"content": "Size"
					},
					{
						"type": "select",
						"id": "row",
						"label": "Height",
						"options": [
							{
								"value": "1",
								"label": "50%"
							},
							{
								"value": "2",
								"label": "100%"
							},
							{
								"value": "3",
								"label": "150%"
							}
						],
						"default": "2"
					},
					{
						"type": "select",
						"id": "col",
						"label": "Desktop width",
						"options": [
							{
								"value": "3",
								"label": "25%"
							},
							{
								"value": "4",
								"label": "33%"
							},
							{
								"value": "6",
								"label": "50%"
							},
							{
								"value": "8",
								"label": "77%"
							},
							{
								"value": "12",
								"label": "100%"
							}
						],
						"default": "3"
					},
					{
						"type": "header",
						"content": "Content"
					},
					{
						"type": "url",
						"id": "link",
						"label": "Link"
					},
					{
						"type": "select",
						"id": "content_position",
						"label": "Position",
						"options": [
							{
								"value": "top-left",
								"label": "Top left"
							},
							{
								"value": "top-center",
								"label": "Top center"
							},
							{
								"value": "top-right",
								"label": "Top right"
							},
							{
								"value": "middle-left",
								"label": "Middle left"
							},
							{
								"value": "middle-center",
								"label": "Middle center"
							},
							{
								"value": "middle-right",
								"label": "Middle right"
							},
							{
								"value": "bottom-left",
								"label": "Bottom left"
							},
							{
								"value": "bottom-center",
								"label": "Bottom center"
							},
							{
								"value": "bottom-right",
								"label": "Bottom right"
							}
						],
						"default": "middle-center"
					},
					{
						"type": "text",
						"id": "subheading_text",
						"label": "Subheading"
					},
					{
						"type": "text",
						"id": "heading_text",
						"label": "Heading",
						"default": "Gallery item"
					},
					{
						"type": "select",
						"id": "heading_size",
						"label": "Heading size",
						"default": "h4",
						"options": [
							{
								"value": "h5",
								"label": "Small"
							},
							{
								"value": "h4",
								"label": "Medium"
							},
							{
								"value": "h3",
								"label": "Large"
							}
						]
					},
					{
						"type": "inline_richtext",
						"id": "text_content",
						"label": "Text"
					},
					{
						"type": "text",
						"id": "button_label",
						"label": "Button label"
					},
					{
						"type": "select",
						"id": "button_variant",
						"label": "Button style",
						"options": [
							{
								"value": "fill",
								"label": "Solid"
							},
							{
								"value": "outline",
								"label": "Outline"
							},
							{
								"value": "link",
								"label": "Link"
							}
						],
						"default": "outline"
					},
					{
						"type": "color_scheme",
						"id": "color_scheme",
						"label": "Color scheme",
						"default": "invert"
					}
				]
			}
		]
	}
{% endschema %}
